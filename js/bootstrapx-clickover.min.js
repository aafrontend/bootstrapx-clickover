!function(h){"use strict";var c=function(t,i){this.cinit("clickover",t,i)};c.DEFAULTS=h.extend({},h.fn.popover.Constructor.DEFAULTS,{trigger:"manual",auto_close:0,global_close:1,esc_close:1,onShown:null,onHidden:null,width:null,height:null,tip_id:null,class_name:"clickover",allow_multiple:0});c.prototype=h.extend({},h.fn.popover.Constructor.prototype,{constructor:c,cinit:function(t,i,e){this.attr={};this.attr.me=(Math.random()*10+"").replace(/\D/g,"");this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me;if(!e)e={};e.trigger="manual";this.init(t,i,e);this.$element.on("click",this.options.selector,h.proxy(this.clickery,this))},clickery:function(t){if(t){t.preventDefault();t.stopPropagation()}this.options.width&&this.tip().width(this.options.width);this.options.height&&this.tip().height(this.options.height);this.options.tip_id&&this.tip().attr("id",this.options.tip_id);this.options.class_name&&this.tip().addClass(this.options.class_name);this[this.isShown()?"hide":"show"]();if(this.isShown()){var i=this;this.options.global_close&&h("body").on(this.attr.click_event_ns,function(t){if(!i.tip().has(t.target).length){i.clickery()}});this.options.esc_close&&h(document).bind("keyup.clickery",function(t){if(t.keyCode==27){i.clickery()}return});!this.options.allow_multiple&&h("[data-clickover-open=1]").each(function(){h(this).data("clickover")&&h(this).data("clickover").clickery()});this.$element.attr("data-clickover-open",1);this.tip().on("click",'[data-dismiss="clickover"]',h.proxy(this.clickery,this));if(this.options.auto_close&&this.options.auto_close>0){this.attr.tid=setTimeout(h.proxy(this.clickery,this),this.options.auto_close)}typeof this.options.onShown=="function"&&this.options.onShown.call(this);this.$element.trigger("shown")}else{this.$element.removeAttr("data-clickover-open");this.options.esc_close&&h(document).unbind("keyup.clickery");h("body").off(this.attr.click_event_ns);if(typeof this.attr.tid=="number"){clearTimeout(this.attr.tid);delete this.attr.tid}typeof this.options.onHidden=="function"&&this.options.onHidden.call(this);this.$element.trigger("hidden")}},isShown:function(){return this.tip().hasClass("in")},resetPosition:function(){var t,i,e,o,s,n,h;if(this.hasContent()&&this.enabled){t=this.tip();n=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement;i=/in/.test(n);e=this.getPosition(i);o=t[0].offsetWidth;s=t[0].offsetHeight;switch(i?n.split(" ")[1]:n){case"bottom":h={top:e.top+e.height,left:e.left+e.width/2-o/2};break;case"top":h={top:e.top-s,left:e.left+e.width/2-o/2};break;case"left":h={top:e.top+e.height/2-s/2,left:e.left-o};break;case"right":h={top:e.top+e.height/2-s/2,left:e.left+e.width};break}t.css(h)}},debughide:function(){var t=(new Date).toString();this.hide()}});c.prototype.getDefaults=function(){return c.DEFAULTS};h.fn.clickover=function(n){return this.each(function(){var t=h(this),i=t.data("clickover"),e=typeof n=="object"&&n;var o=t.data("dlgWidth");if(!(o===null||o===undefined))e=h.extend(true,{width:o},e);var s=t.data("dlgHeight");if(!(s===null||s===undefined))e=h.extend(true,{height:s},e);if(!i)t.data("clickover",i=new c(this,e));if(typeof n=="string")i[n]()})};h.fn.clickover.Constructor=c}(window.jQuery);